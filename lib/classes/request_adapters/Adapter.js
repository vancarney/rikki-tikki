// Generated by CoffeeScript 1.9.3
var AbstractAdapter, Adapter,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

AbstractAdapter = require('../base_class/AbstractAdapter');

Adapter = (function(superClass) {
  extend(Adapter, superClass);

  Adapter.prototype.required = ['app'];

  function Adapter(params) {
    this.params = params;
  }

  Adapter.prototype.addRoute = function(route, method, handler) {
    return this.params.app[method](route, handler || this.responseHandler);
  };

  Adapter.prototype.responseHandler = function(res, data, headers) {
    var header, value;
    if (!headers) {
      res.setHeader('Content-Type', 'application/json');
    } else {
      for (header in headers) {
        value = headers[header];
        res.setHeader(header, value);
      }
    }
    return res.status(data.status).send(data.content ? data.content : "");
  };

  Adapter.prototype.requestHandler = function() {
    return false;
  };

  return Adapter;

})(AbstractAdapter);

module.exports = Adapter;
